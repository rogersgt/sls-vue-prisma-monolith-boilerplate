AWSTemplateFormatVersion: '2010-09-09'
Description: Database migrations task

Parameters:
  RepoName:
    Type: String

  Image:
    Type: String

  Cpu:
    Type: Number

  Memory:
    Type: Number

Resources:
  Task:
    Type: AWS::ECS::TaskDefinition
    Properties:
      ContainerDefinitions:
        - Name: !Sub '${RepoName}-migrations'
          Memory: !Ref 'Memory'
          Cpu: !Ref 'Cpu'
          Image: !Ref 'Image'

Outputs:
  TaskArn:
    Value: !GetAtt Task.TaskDefinitionArn
